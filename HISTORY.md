# JAWS DAYS 2026 カスタムタイムテーブル - 実装履歴

## v1.0.0 - 初期実装 (2026-02-10)

### Phase 1: プロジェクト基盤構築
- リポジトリ作成、GitHub Pages デプロイ設定
- `docs/` ディレクトリでの静的サイトホスティング構成
- 基本的な HTML/CSS/JS の3ファイル構成を確立

### Phase 2: タイムテーブルデータ取得
- fortee.jp からのスクレイピングを試みるも 403 エラーで断念
- Web 検索で部分的なセッション情報を収集し、サンプルデータで仮実装
- ユーザーから fortee.jp の完全な HTML ソースを提供いただき、正確なデータ構造を解析
- CSS ポジション計算式を特定: `start_minutes = top_px / 6`, `duration_minutes = height_px / 6`
- `track-N` クラスから Track A-H へのマッピングを確立
- Python スクリプト (`generate_json.py`) で 173 セッション分の `timetable.json` を生成

### Phase 3: コア機能実装
- **CSS Grid レイアウト**: 横軸 Track A-H、縦軸 09:00-19:40（5分刻み）
- **セッション詳細モーダル**: タイトル、スピーカー、タグ表示
- **Google カレンダー連携**: タイムゾーン `Asia/Tokyo` 対応、会場・セッション情報をプリセット
- **Proposal ページリンク**: fortee.jp の各セッション詳細ページへの直リンク
- **Cookie ベースのセッションチェック機能**: 編集/保存/キャンセルのワークフロー
  - Cookie 名: `jawsdays2026_checked`, 有効期間 90 日
  - 編集モード中は `pendingChecked` で仮保持、保存時に確定
- **チェック済みセッション表示**: オレンジ (3px solid `#ff9900`) ボーダー + 薄オレンジ背景
- **開催中セッション表示**: グリーン (`rgba(52, 199, 89, 0.15)`) 背景 (JST 時刻判定)
- **チェック済み＋開催中の両立表示**: グラデーション背景で視覚的に両方を表現

### Phase 4: バグ修正
- **Track H セッション重複**: GameDay (13:50-17:10) と ウルトラクイズ (16:00-17:00) の重複を解消
- **チェックボックスキャンセル不具合**: 編集中に `checkedSessions` を直接変更していた問題を修正
  - `pendingChecked` のみを変更するよう修正、キャンセル時に元の状態を正しく復元

### Phase 5: 追加機能実装
- **テーブルヘッダ固定表示**: `position: sticky` で上部ヘッダを固定
- **下部テーブルヘッダ**: グリッド最終行にも Track ヘッダを追加
- **スクロールトップボタン**: 400px 以上スクロールで表示される戻るボタン
- **初期表示時自動スクロール**: 開催日は現在時刻、それ以外は 10:00 の位置へ
- **X (Twitter) ポストアイコン**: セッションモーダルに追加
  - ハッシュタグ: `#jawsdays2026 #jawsug #jawsdays2026_{track}`
- **セッションタグ表示**: Level バッジ (Level 200/300/400) やカテゴリタグをセルとモーダルに表示

### Phase 6: プロジェクト構造改善
- `docs/` → `public/` へアプリファイルを移行
- GitHub Actions による `public/` ディレクトリの GitHub Pages デプロイ設定
- `docs/` をドキュメント用ディレクトリに転用
  - 仕様書 (`spec.md`)、開発ガイド (`development.md`)、実装計画 (`plan.md`)
  - `knowledge/` フォルダにカテゴリ別ナレッジを蓄積

### Phase 7: UI/UX 改善 (2026-02-10)
- **README.md 整備**: GitHub Pages URL、機能説明、Level バッジカラー表、ファイル構成を記載
- **スピーカー画像表示**: `timetable.json` に `speakerImage` フィールドを追加
  - fortee.jp の `timetable.html` からスピーカー名→画像 URL のマッピングを抽出 (Python スクリプト)
  - セッションセル内にアイコン画像（18px 丸形）を表示
  - モーダル内にアイコン画像（40px 丸形）を表示
- **Level バッジデザイン**: fortee.jp のデザインに準拠した rounded-pill バッジに変更
  - Level 200: `#50cd89` (緑) / Level 300: `#7239ea` (紫) / Level 400: `#ff8f00` (オレンジ)
  - CSS クラス `level-200`, `level-300`, `level-400` で色分け
- **ボタン名称変更**: 「チェック編集」→「参加予定を編集」に変更
- **休憩枠のチェック無効化**: 非セッション枠（休憩・受付など）の編集モード時にチェックボックスを非表示
- **横スクロール対応**: `timetable-container` に `overflow-x: auto` + 左右 24px パディング
- **縦幅調整**: `--row-height` を 12px → 20px に拡大（セッションテキストが読みやすくなる）
- **ヘッダ固定修正**:
  - 時間軸ラベルに `position: sticky; left: 0` を追加（横スクロール時も固定）
  - 上部トラックヘッダの z-index を調整（サイトヘッダとの重なりを解消）
  - 下部ヘッダに `position: sticky; bottom: 0` を適用
